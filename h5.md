# h5 Täysin Laillinen Sertifikaatti

## x) Lue/katso ja tiivistä. 

### OWASP 2021: OWASP Top 10:2021

### A01:2021 – Broken Access Control (IDOR ja path traversal ovat osa tätä)

https://owasp.org/Top10/A01_2021-Broken_Access_Control/

### A10:2021 – Server-Side Request Forgery (SSRF)

https://owasp.org/Top10/A10_2021-Server-Side_Request_Forgery_%28SSRF%29/

### PortSwigget Academy:

### Insecure direct object references (IDOR)

https://portswigger.net/web-security/access-control/idor

### Path traversal

https://portswigger.net/web-security/file-path-traversal

### Server-side template injection

https://portswigger.net/web-security/server-side-template-injection

### Server-side request forgery (SSRF)

https://portswigger.net/web-security/ssrf

### Cross-site scripting

https://portswigger.net/web-security/cross-site-scripting

## a) Totally Legit Sertificate. 

Asenna OWASP ZAP, generoi CA-sertifikaatti ja asenna se selaimeesi. 
Laita ZAP proxyksi selaimeesi. 
Laita ZAP sieppaamaan myös kuvat, niitä tarvitaan tämän kerran kotitehtävissä. 
Osoita, että hakupyynnöt ilmestyvät ZAP:n käyttöliittymään. (Ei toimine localhost:lla ilman Foxyproxya)

## b) Kettumaista. 

Asenna "FoxyProxy Standard" Firefox Addon, ja lisää ZAP proxyksi siihen. 
Käytä FoxyProxyn "Patterns" -toimintoa, niin että vain valitsemasi weppisivut ohjataan Proxyyn. (Läksyssä ohjataan varmaankin PortSwigger Labs ja localhost.)
    
## PortSwigger Labs. 

Ratkaise tehtävät. Selitä ratkaisusi: mitä palvelimella tapahtuu, mitä eri osat tekevät, miten hyökkäys löytyi, mistä vika johtuu. 
Kannattaa käyttää ZAPia, vaikka malliratkaisut käyttävät harjoitusten tekijän maksullista ohjelmaa. 
Malliratkaisun kopioiminen ZAP:n tai selaimeen ei ole vastaus tehtävään, vaan ratkaisu ja haavoittuvuuden etsiminen on selitettävä ja perusteltava.

### Insecure Direct Object Reference (IDOR)

### c) Insecure direct object references

https://portswigger.net/web-security/access-control/lab-insecure-direct-object-references

### Path traversal

### d) File path traversal, simple case

            https://portswigger.net/web-security/file-path-traversal/lab-simple
            
### e) File path traversal, traversal sequences blocked with absolute path bypass

https://portswigger.net/web-security/file-path-traversal/lab-absolute-path-bypass

### f) File path traversal, traversal sequences stripped non-recursively
        Server Side Template Injection (SSTI)

### g) Server-side template injection with information disclosure via user-supplied objects (Tämä on merkitty hieman vaikeammaksi, jätä viimeiseksi jos näyttää hankalalta)
        Server Side Request Forgery (SSRF)


### h) Basic SSRF against the local server
        Cross Site Scripting (XSS)
            i) Reflected XSS into HTML context with nothing encoded
            j) Stored XSS into HTML context with nothing encoded

## k) Asenna pencode ja muunna sillä jokin merkkijono (encode a string).

## l) Vapaaehtoinen: Mitmproxy. Asenna MitmProxy. Esittele sitä terminaalissa (TUI). Ota TLS-purku käyttöön. Poimi historiasta hakupyyntö, muokkaa sitä ja lähetä uudelleen.

## m) Vapaaehtoinen: Ratkaise lisää PortSwigger Labs -tehtäviä. Kannattaa tehdä helpoimmat "Apprentice" -tason tehtävät ensin.
